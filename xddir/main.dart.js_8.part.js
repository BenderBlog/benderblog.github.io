self.$__dart_deferred_initializers__=self.$__dart_deferred_initializers__||Object.create(null);$__dart_deferred_initializers__.current=function(hunkHelpers,init,holdersList,$){var B={WindowInformation:function WindowInformation(t0,t1,t2,t3,t4){var _=this;_.__WindowInformation_name_A=t0;_.__WindowInformation_places_A=t1;_.number=t2;_.commit=t3;_.items=t4},WindowItemsGroup:function WindowItemsGroup(t0,t1,t2,t3,t4){var _=this;_.name=t0;_.price=t1;_.unit=t2;_.__WindowItemsGroup_status_A=t3;_.commit=t4},DiningHallWindow$(){return new B.DiningHallWindow(null)},DiningHallWindow:function DiningHallWindow(t0){this.key=t0},_DiningHallWindowState:function _DiningHallWindowState(t0){this._widget=null;this._debugLifecycleState=t0;this._framework$_element=null},_DiningHallWindowState_loadData_closure:function _DiningHallWindowState_loadData_closure(){},_DiningHallWindowState_search_closure:function _DiningHallWindowState_search_closure(){},_DiningHallWindowState_search_closure0:function _DiningHallWindowState_search_closure0(){},_DiningHallWindowState_changeGoToWhere_closure:function _DiningHallWindowState_changeGoToWhere_closure(){},_DiningHallWindowState_changeGoToWhere_closure0:function _DiningHallWindowState_changeGoToWhere_closure0(){},_DiningHallWindowState__list_closure:function _DiningHallWindowState__list_closure(t0){this.toUse=t0},CafeteriaCard:function CafeteriaCard(t0,t1){this.toUse=t0;this.key=t1},CafeteriaCard_build_closure:function CafeteriaCard_build_closure(t0){this.$this=t0},ItemBox:function ItemBox(t0,t1){this.toUse=t0;this.key=t1},getCafeteriaData(isForceUpdate,toFind,where){var $async$goto=0,$async$completer=A._makeAsyncAwaitCompleter(type$.List_WindowInformation),$async$returnValue,toReturn,t2,t3,_i,i,t4,t5,t6,t1,jsonResult,$async$temp1,$async$temp2;var $async$getCafeteriaData=A._wrapJsFunctionForAsync(function($async$errorCode,$async$result){if($async$errorCode===1)return A._asyncRethrow($async$result,$async$completer);while(true)switch($async$goto){case 0:t1=type$.String;$async$temp1=F;$async$temp2=E.C_JsonCodec;$async$goto=3;return A._asyncAwait($.$get$getTool().require$3$body$isForce$subWebsite(A.LinkedHashMap_LinkedHashMap$_literal(["where",'{"place":{"$regex":"'+where+'"}}',"order","-status,-updatedAt","limit","1000"],t1,t1),isForceUpdate,"/canteen"),$async$getCafeteriaData);case 3:jsonResult=$async$temp1.$CafeteriaWindowItemEntityFromJson($async$temp2.decode$1(0,$async$result));if(toFind!==""){t1=jsonResult.__CafeteriaWindowItemEntity_results_A;t1===$&&A.throwUnnamedLateFieldNI();if(!!t1.fixed$length)A.throwExpression(A.UnsupportedError$("removeWhere"));E.JSArray_methods._removeWhere$2(t1,new B.getCafeteriaData_closure(toFind),true)}toReturn=A._setArrayType([],type$.JSArray_WindowInformation);t1=jsonResult.__CafeteriaWindowItemEntity_results_A;t1===$&&A.throwUnnamedLateFieldNI();t2=t1.length;t3=type$.WindowItemsGroup;_i=0;for(;_i<t1.length;t1.length===t2||(0,A.throwConcurrentModificationError)(t1),++_i){i=t1[_i];if(!E.JSArray_methods.any$1(toReturn,new B.getCafeteriaData_closure0(i))){t4=i.__CafeteriaWindowItemResults_window_A;t4===$&&A.throwUnnamedLateFieldNI();t5=i.__CafeteriaWindowItemResults_place_A;t5===$&&A.throwUnnamedLateFieldNI();i.__CafeteriaWindowItemResults_createdAt_A===$&&A.throwUnnamedLateFieldNI();toReturn.push(new B.WindowInformation(t4,t5,i.number,i.shopComment,A.LinkedHashSet_LinkedHashSet$_empty(t3)))}t4=toReturn[E.JSArray_methods.lastIndexWhere$1(toReturn,new B.getCafeteriaData_closure1(i))].items;t5=i.name;t6=i.__CafeteriaWindowItemResults_price_A;t6===$&&A.throwUnnamedLateFieldNI();t4.add$1(0,new B.WindowItemsGroup(t5,t6,i.unit,i.status,i.comment))}$async$returnValue=toReturn;$async$goto=1;break;case 1:return A._asyncReturn($async$returnValue,$async$completer)}});return A._asyncStartSync($async$getCafeteriaData,$async$completer)},getCafeteriaData_closure:function getCafeteriaData_closure(t0){this.toFind=t0},getCafeteriaData_closure0:function getCafeteriaData_closure0(t0){this.i=t0},getCafeteriaData_closure1:function getCafeteriaData_closure1(t0){this.i=t0}},A,C,D,E,G,F,I,H,K,J,L,M,N,O;B=hunkHelpers.updateHolder(holdersList[4],B);A=holdersList[0];C=holdersList[12];D=holdersList[11];E=holdersList[2];G=holdersList[16];F=holdersList[7];I=holdersList[15];H=holdersList[19];K=holdersList[17];J=holdersList[1];L=holdersList[20];M=holdersList[21];N=holdersList[9];O=holdersList[10];B.WindowInformation.prototype={state$0(_){var t1,t2,t3;for(t1=this.items,t1=A._LinkedHashSetIterator$(t1,t1._collection$_modifications),t2=A._instanceType(t1)._precomputed1;t1.moveNext$0();){t3=t1._collection$_current;t3=(t3==null?t2._as(t3):t3).__WindowItemsGroup_status_A;t3===$&&A.throwUnnamedLateFieldNI();if(t3)return true}return false}};B.WindowItemsGroup.prototype={};B.DiningHallWindow.prototype={createState$0(){return new B._DiningHallWindowState(C._StateLifecycle_0)}};B._DiningHallWindowState.prototype={loadData$0(){var $async$goto=0,$async$completer=A._makeAsyncAwaitCompleter(type$.dynamic),$async$self=this,$async$temp1;var $async$loadData$0=A._wrapJsFunctionForAsync(function($async$errorCode,$async$result){if($async$errorCode===1)return A._asyncRethrow($async$result,$async$completer);while(true)switch($async$goto){case 0:$async$goto=$.toUse==null?2:3;break;case 2:$async$temp1=$;$async$goto=4;return A._asyncAwait(B.getCafeteriaData(true,"",$.goToWhere),$async$loadData$0);case 4:$async$temp1.toUse=$async$result;case 3:if($async$self._framework$_element!=null)$async$self.setState$1(new B._DiningHallWindowState_loadData_closure);return A._asyncReturn(null,$async$completer)}});return A._asyncStartSync($async$loadData$0,$async$completer)},search$1(_,toSearch){return this.search$body$_DiningHallWindowState(0,toSearch)},search$body$_DiningHallWindowState(_,toSearch){var $async$goto=0,$async$completer=A._makeAsyncAwaitCompleter(type$.dynamic),$async$self=this,$async$temp1;var $async$search$1=A._wrapJsFunctionForAsync(function($async$errorCode,$async$result){if($async$errorCode===1)return A._asyncRethrow($async$result,$async$completer);while(true)switch($async$goto){case 0:$.toUse=null;$async$self.setState$1(new B._DiningHallWindowState_search_closure);$async$temp1=$;$async$goto=2;return A._asyncAwait(B.getCafeteriaData(false,toSearch,$.goToWhere),$async$search$1);case 2:$async$temp1.toUse=$async$result;if($async$self._framework$_element!=null)$async$self.setState$1(new B._DiningHallWindowState_search_closure0);return A._asyncReturn(null,$async$completer)}});return A._asyncStartSync($async$search$1,$async$completer)},changeGoToWhere$1(input){return this.changeGoToWhere$body$_DiningHallWindowState(input)},changeGoToWhere$body$_DiningHallWindowState(input){var $async$goto=0,$async$completer=A._makeAsyncAwaitCompleter(type$.dynamic),$async$self=this,t1,$async$temp1;var $async$changeGoToWhere$1=A._wrapJsFunctionForAsync(function($async$errorCode,$async$result){if($async$errorCode===1)return A._asyncRethrow($async$result,$async$completer);while(true)switch($async$goto){case 0:$.toUse=null;$.goToWhere=input;$async$self.setState$1(new B._DiningHallWindowState_changeGoToWhere_closure);t1=$.goToWhere;$async$temp1=$;$async$goto=2;return A._asyncAwait(B.getCafeteriaData(false,$.$get$toSearch()._change_notifier$_value.text,t1),$async$changeGoToWhere$1);case 2:$async$temp1.toUse=$async$result;if($async$self._framework$_element!=null)$async$self.setState$1(new B._DiningHallWindowState_changeGoToWhere_closure0);return A._asyncReturn(null,$async$completer)}});return A._asyncStartSync($async$changeGoToWhere$1,$async$completer)},initState$0(){this.loadData$0();this.super$State$initState()},build$1(context){var t6,_i,i,_this=this,_null=null,t1=A._setArrayType([new D.BoxShadow(.1,E.BlurStyle_0,A.Color$fromARGB(51,0,0,0),E.Offset_0_0,10)],type$.JSArray_BoxShadow),t2=D.Expanded$(new D.Padding(G.EdgeInsets_10_0_0_0,F.TextField$(true,E.List_empty1,false,_null,$.$get$toSearch(),_null,_null,_null,2,G.InputDecoration_iNC,true,_null,true,_null,false,_null,_null,_null,_null,_null,_null,1,_null,_null,false,"•",_this.get$search(_this),_null,_null,_null,false,_null,_null,I.EdgeInsets_20_20_20_20,_null,_null,_null,_null,_null,_null,_null,E.TextAlign_4,_null,I.TextCapitalization_30,_null,_null,_null),_null),1),t3=$.goToWhere,t4=D.Container$(_null,_null,_null,_null,_null,2,_null,_null,_null),t5=A._setArrayType([],type$.JSArray_DropdownMenuItem_String);for(t6=type$.DropdownMenuItem_String,_i=0;_i<5;++_i){i=H.List_0I7[_i];t5.push(new F.DropdownMenuItem(i,new D.Text(i,_null,_null,_null,_null,_null,_null,_null,_null,_null,_null),C.AlignmentDirectional_m1_0,_null,t6))}t6=type$.JSArray_Widget;return D.Column$(A._setArrayType([D.Container$(_null,D.Row$(A._setArrayType([t2,new D.Padding(K.EdgeInsets_10_10_10_10,F.DropdownButton$(G.Icon_IconData_58195_false_null,t5,_this.get$changeGoToWhere(),t4,t3,type$.String),_null)],t6),C.CrossAxisAlignment_2,C.MainAxisAlignment_0,C.MainAxisSize_1),_null,_null,new D.BoxDecoration(C.Color_4294967295,_null,_null,_null,t1,_null,C.BoxShape_0),_null,_null,_null,_null),_this._dininghall$_list$1($.toUse)],t6),C.CrossAxisAlignment_2,C.MainAxisAlignment_0,C.MainAxisSize_1)},_dininghall$_list$1(toUse){if(toUse!=null)if(J.get$isNotEmpty$asx(toUse))return D.Expanded$(new D.LayoutBuilder(new B._DiningHallWindowState__list_closure(toUse),null),1);else return D.Expanded$(D.Center$(D.Column$(G.List_AKW,C.CrossAxisAlignment_2,C.MainAxisAlignment_2,C.MainAxisSize_1),null,null),1);else return G.Expanded_Avw}};B.CafeteriaCard.prototype={build$1(context){var t5,_null=null,t1=type$.JSArray_Widget,t2=A._setArrayType([],t1),t3=this.toUse,t4=t3.number;if(t4!=null)t2.push(D.Row$(A._setArrayType([F.TagsBoxes$(C.MaterialColor_Map_HFpTk_4288585374,E.JSInt_methods.toString$0(t4)),L.SizedBox_10_null_null_null],t1),C.CrossAxisAlignment_2,C.MainAxisAlignment_0,C.MainAxisSize_1));t4=t3.__WindowInformation_name_A;t4===$&&A.throwUnnamedLateFieldNI();t2.push(D.SizedBox$(D.Text$(t4,_null,C.TextOverflow_2,_null,true,_null,E.TextAlign_0,_null,1.25),_null,150));t2=D.Row$(t2,C.CrossAxisAlignment_2,C.MainAxisAlignment_0,C.MainAxisSize_1);t4=t3.__WindowInformation_places_A;t4===$&&A.throwUnnamedLateFieldNI();t4=F.TagsBoxes$(M.MaterialColor_Map_JNEyN_4284955319,t4);t5=t3.state$0(0)?"开放":"关门";t2=A._setArrayType([D.Row$(A._setArrayType([t2,D.Row$(A._setArrayType([t4,K.SizedBox_5_null_null_null,F.TagsBoxes$(t3.state$0(0)?G.MaterialColor_Map_JNEaM_4283215696:C.MaterialColor_Map_JNc9P_4294198070,t5)],t1),C.CrossAxisAlignment_2,C.MainAxisAlignment_0,C.MainAxisSize_1)],t1),C.CrossAxisAlignment_2,C.MainAxisAlignment_3,C.MainAxisSize_1)],t1);t4=t3.commit;t5=t4!=null;if(t5)t2.push(H.SizedBox_null_10_null_null);if(t5)t2.push(D.Row$(A._setArrayType([L.SizedBox_null_5_null_null,new D.Flexible(1,C.FlexFit_1,D.Text$(t4,_null,_null,_null,_null,_null,_null,_null,_null),_null)],t1),C.CrossAxisAlignment_2,C.MainAxisAlignment_0,C.MainAxisSize_1));t2.push(H.Divider_28_null);t2.push(F.GridView$builder(new F.SliverGridDelegateWithFixedHeight(60,375,15,15),new B.CafeteriaCard_build_closure(this),t3.items._collection$_length,_null,true));return new N.ShadowBox(D.Container$(_null,D.Column$(t2,C.CrossAxisAlignment_2,C.MainAxisAlignment_0,C.MainAxisSize_1),_null,_null,_null,_null,_null,I.EdgeInsets_20_20_20_20,_null),_null)}};B.ItemBox.prototype={build$1(context){var t4,t5,_null=null,t1=this.toUse,t2=t1.commit,t3=t1.name;t2=t2==null?t3:t3+"\n"+t2;t3=t1.__WindowItemsGroup_status_A;t3===$&&A.throwUnnamedLateFieldNI();t3=!t3;t2=D.Text$(t2,_null,C.TextOverflow_2,_null,_null,D.TextStyle$(_null,_null,_null,_null,t3?E.TextDecoration_4:E.TextDecoration_0,_null,_null,_null,_null,_null,_null,_null,_null,_null,_null,_null,_null,true,_null,_null,_null,_null,_null,_null,_null,_null),_null,_null,_null);t4=E.JSArray_methods.join$1(t1.price," 或 ");t5=type$.JSArray_Widget;return D.DecoratedBox$(D.Container$(_null,D.Row$(A._setArrayType([new D.Flexible(1,C.FlexFit_1,t2,_null),D.Row$(A._setArrayType([D.Text$(t4+" 元每"+t1.unit,_null,_null,_null,_null,D.TextStyle$(_null,_null,_null,_null,t3?E.TextDecoration_4:E.TextDecoration_0,_null,_null,_null,_null,_null,_null,_null,_null,_null,_null,_null,_null,true,_null,_null,_null,_null,_null,_null,_null,_null),_null,_null,_null)],t5),C.CrossAxisAlignment_2,C.MainAxisAlignment_0,C.MainAxisSize_1)],t5),C.CrossAxisAlignment_2,C.MainAxisAlignment_3,C.MainAxisSize_1),_null,_null,_null,_null,_null,K.EdgeInsets_10_10_10_10,_null),L.BoxDecoration_QSc,C.DecorationPosition_0)}};var typesOffset=hunkHelpers.updateTypes(["bool(WindowInformation)","~(String)","~(String?)","ListView(BuildContext,BoxConstraints)","ItemBox(BuildContext,int)","bool(CafeteriaWindowItemResults)"]);B._DiningHallWindowState_loadData_closure.prototype={call$0(){},$signature:0};B._DiningHallWindowState_search_closure.prototype={call$0(){},$signature:0};B._DiningHallWindowState_search_closure0.prototype={call$0(){},$signature:0};B._DiningHallWindowState_changeGoToWhere_closure.prototype={call$0(){},$signature:0};B._DiningHallWindowState_changeGoToWhere_closure0.prototype={call$0(){},$signature:0};B._DiningHallWindowState__list_closure.prototype={call$2(context,constraints){var t2,t3,t1=constraints.maxWidth;t1=t1<900?12.5:t1*.05;t2=A._setArrayType([],type$.JSArray_Widget);for(t3=J.get$iterator$ax(this.toUse);t3.moveNext$0();)t2.push(new B.CafeteriaCard(t3.get$current(t3),null));return D.ListView$(t2,new A.EdgeInsets(t1,0,t1,0),null,false)},$signature:typesOffset+3};B.CafeteriaCard_build_closure.prototype={call$2(context,index){return new B.ItemBox(this.$this.toUse.items.elementAt$1(0,index),null)},$signature:typesOffset+4};B.getCafeteriaData_closure.prototype={call$1(i){var t2,t1=this.toFind;if(!E.JSString_methods.contains$1(i.name,t1)){t2=i.__CafeteriaWindowItemResults_window_A;t2===$&&A.throwUnnamedLateFieldNI();t1=!E.JSString_methods.contains$1(t2,t1)}else t1=false;return t1},$signature:typesOffset+5};B.getCafeteriaData_closure0.prototype={call$1(j){var t2,t1=j.__WindowInformation_name_A;t1===$&&A.throwUnnamedLateFieldNI();t2=this.i.__CafeteriaWindowItemResults_window_A;t2===$&&A.throwUnnamedLateFieldNI();return t1===t2},$signature:typesOffset+0};B.getCafeteriaData_closure1.prototype={call$1(j){var t2,t1=j.__WindowInformation_name_A;t1===$&&A.throwUnnamedLateFieldNI();t2=this.i.__CafeteriaWindowItemResults_window_A;t2===$&&A.throwUnnamedLateFieldNI();return t1===t2},$signature:typesOffset+0};(function installTearOffs(){var _instance_1_i=hunkHelpers._instance_1i,_instance_1_u=hunkHelpers._instance_1u;var _;_instance_1_i(_=B._DiningHallWindowState.prototype,"get$search","search$1",1);_instance_1_u(_,"get$changeGoToWhere","changeGoToWhere$1",2)})();(function inheritance(){var _inheritMany=hunkHelpers.inheritMany,_inherit=hunkHelpers.inherit;_inheritMany(A.Object,[B.WindowInformation,B.WindowItemsGroup]);_inherit(B.DiningHallWindow,D.StatefulWidget);_inherit(B._DiningHallWindowState,D.State);_inheritMany(A.Closure0Args,[B._DiningHallWindowState_loadData_closure,B._DiningHallWindowState_search_closure,B._DiningHallWindowState_search_closure0,B._DiningHallWindowState_changeGoToWhere_closure,B._DiningHallWindowState_changeGoToWhere_closure0]);_inheritMany(A.Closure2Args,[B._DiningHallWindowState__list_closure,B.CafeteriaCard_build_closure]);_inheritMany(D.StatelessWidget,[B.CafeteriaCard,B.ItemBox]);_inheritMany(A.Closure,[B.getCafeteriaData_closure,B.getCafeteriaData_closure0,B.getCafeteriaData_closure1])})();A._Universe_addRules(init.typeUniverse,JSON.parse('{"DiningHallWindow":{"StatefulWidget":[],"Widget":[],"DiagnosticableTree":[]},"ItemBox":{"StatelessWidget":[],"Widget":[],"DiagnosticableTree":[]},"_DiningHallWindowState":{"State":["DiningHallWindow"]},"CafeteriaCard":{"StatelessWidget":[],"Widget":[],"DiagnosticableTree":[]}}'));var type$={DropdownMenuItem_String:A.findType("DropdownMenuItem<String>"),JSArray_BoxShadow:A.findType("JSArray<BoxShadow>"),JSArray_DropdownMenuItem_String:A.findType("JSArray<DropdownMenuItem<String>>"),JSArray_Widget:A.findType("JSArray<Widget>"),JSArray_WindowInformation:A.findType("JSArray<WindowInformation>"),List_WindowInformation:A.findType("List<WindowInformation>"),String:A.findType("String"),WindowItemsGroup:A.findType("WindowItemsGroup"),dynamic:A.findType("@")};(function constants(){var makeConstList=hunkHelpers.makeConstList;H.Divider_28_null=new D.Divider(28,null);H.List_0I7=A._setArrayType(makeConstList(["竹园一楼","竹园二楼","海棠一楼","海棠二楼","丁香"]),A.findType("JSArray<String>"));H.SizedBox_null_10_null_null=new D.SizedBox(null,10,null,null)})();(function staticFields(){$.goToWhere="竹园一楼";$.toUse=null})();(function lazyInitializers(){var _lazy=hunkHelpers.lazy;_lazy($,"toSearch0","$get$toSearch",()=>O.TextEditingController$(null))})()};$__dart_deferred_initializers__["r2/o/QEzZLf9MUbKFzEtnDa00I0="]=$__dart_deferred_initializers__.current;